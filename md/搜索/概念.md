## 什么是索引

索引表包括了每条记录的属性值和属性值记录的地址，检索的时候，通过属性值来确定该条记录的位置，而不是像传统索引那样通过属性来确定属性值，通俗的说就是不在是通过key寻找value，而是通过value寻找key。



#### 单词词典（重点）

常用的数据结构包括**哈希加链表结构**和**树形词典结构**。



**这种先建立索引，再对索引进行搜索的过程就叫全文检索**(Full-text Search)****。**

### 索引的存储结构

#### Hash的存储方式

#### 树形结构

### 非结构化数据查询方法

（1）**顺序扫描法(Serial Scanning)**

（2）**全文检索(Full-text Search)**

将非结构化数据中的一部分信息提取出来，重新组织，使其变得有一定结构，然后对此有一定结构的数据进行搜索，从而达到搜
索相对较快的目的。
这部分从非结构化数据中提取出的然后重新组织的信息，我们称之**索引**。

全文检索大体分两个过程，索引创建(Indexing)和搜索索引(Search)。
* 索引创建：将现实世界中所有的结构化和非结构化数据提取信息，创建索引的过程。
* 搜索索引：就是得到用户的查询请求，搜索创建的索引，然后返回结果的过程。

全文检索就存在三个重要问题：
1. 索引里面究竟存些什么 ？(Index)
2. 如何创建索引 ？(Indexing)
3. 如何对索引进行搜索 ？(Search)

## 索引里面究竟存些什么
从字符串到文件的映射是文件到字符串映射的反向过程，于是保存这种信息的索引称为
**反向索引** 。  
每个字符串都指向包含此字符串的文档(Document)链表，此文档链表称为 倒排表(Posting List)。  
数据量较大时索引的作用才大
*一次索引，多次使用*

![](https://ws1.sinaimg.cn/large/006xzusPgy1g1yqc0placj30tq0b60t0.jpg))

## 如何创建索引
第一步 ： 一些要索引的原文档(Document)   
第二步 ： 将原文档传给分词组件(Tokenizer)  
第三步 ： 将得到的词元(Token)传给语言处理组件(Linguistic Processor)   
第四步 ： 将得到的词(Term) 传给索引组件(Indexer)

1.  利用得到的词(Term) 创建一个字典 。
2.  对字典按字母顺序进行排序 。
3.  合并相同的词(Term) 成为文档倒排(Posting List) 
* Document Frequency 即文档频次，表示总共有多少文件包含此词(Term)。
* Frequency 即词频率，表示此文件中包含了几个此词(Term)。

> 我们可以将磁盘上的一个文件当成一个document，Document中包括一些Field（file_name文件名称、file_path文件路径、file_size文件大小、file_content文件内容）

![](https://ws1.sinaimg.cn/large/006xzusPgy1g1yqfcet6bj30w20jzdgb.jpg)

## 如何对索引进行搜索

第一步 ： 用户输入查询语句 。  
第二步 ： 对查询语句进行词法分析 ，语法分析，及语言处理 。  
1.  词法分析主要用来识别单词和关键字 。
2.  语法分析主要是根据查询语句的语法规则来形成一棵语法树 
3.  语言处理同索引过程中的语言处理几乎相同 。  

第三步 ： 搜索索引，得到符合语法树的文档  
第四步 ： 根据得到的文档和查询语句的相关性， 对结果进行排序  
如何计算文档和查询语句的相关性呢？  
权重表示该词在文档中的重要程度，越重要的词当然权重越高，因此在计算文档相关性时影响力就更大。通过词之间的权重得到文档相关性的过程叫做空间向量模型算法(Vector Space Model)